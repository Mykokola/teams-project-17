<!--! Щоб додали посилання на це мод.вікно: class="js-open-modal" data-modal="book-room" -->
<!-- Для роботи з модалками style="visibility: visible; opacity: 1;" -->

<section>
    <!--! додали атрибут ідентифікації мод.вікна: data-modal="book-room" -->
    <div class="modal book-room" data-modal="book-room">
        <!--! додали клас закриття мод.вікна: js-modal-close -->
        <button class="modal-close-btn js-modal-close" type="button" >
            <svg class="modal-close-btn-icon">
                <use href="../../img/sprite.svg#modal-cross"></use>
            </svg>
        </button>
        <h4 class="call-to-action">BOOK <span class="ital">a room</span></h4>
        <form action="#">
            <div class="modal-form-wrapper">
                <label class="modal-form-field">
                    <input type="text" id="user_name" name="user_name" class="modal-form-input" pattern="^[a-zA-Zа-яА-Я]+$"
                        minlength="2" placeholder="Your name *" title="Username should only contain letters" required>
                    <span class="modal-form-input-desc">who should book a room for?</span>
                </label>
                
                <!-- TODO можна вставити патерн введення телефону на джс-->
                <!-- КОД з підстановкою телефону через ДЖС, скрипт нижче-->
                <label class="modal-form-field">
                    <input id="online_phone" type="tel" name="user_tel" class="modal-form-input" value="+38 ()"
                        pattern="\+38\s?[\(]{0,1}9[0-9]{2}[\)]{0,1}\s?{0,1}\d{3}[-]{0,1}\d{2}[-]{0,1}\d{2}" placeholder="+38 (___) ___-__-__"
                        required>
                    <span class="modal-form-input-desc">phone number</span>
                </label>

                <!-- <label class="modal-form-field">
                    <input type="tel" name="user_tel" class="modal-form-input"
                        pattern="[0-9]{3}-[0-9]{3}-[0-9]{2}-[0-9]{2}" title="Phone number should be like xxx-xxx-xx-xx" placeholder="+ 38 ()"
                        required>
                    <span class="modal-form-input-desc">phone number</span>
                </label> -->
                
                <!-- TODO Потрібно зробити стрілочку-->
                <!-- розміри стрілки 20px
                    <svg class="modal-close-btn-icon">
                        <use href="../img/sprite.svg#modal-arrow"></use>
                    </svg> 
                -->
                <!-- TODO Потрібно зробити селект, або стилізувати input type="date" -->
                <label class="modal-form-field date">
                    <input type="date" name="user_date" class="modal-form-input" min="2023-02-25" max="2023-12-31"
                        value="today" placeholder="today" required>
                    <span class="modal-form-input-desc">Check-in date</span>
                </label>
                
                <!-- TODO Потрібно зробити стрілочку-->
                <!-- TODO Потрібно зробити селект, або стилізувати input type="date" -->
                <label class="modal-form-field date-desc">
                    <input type="date" name="user_date" class="modal-form-input" min="2023-02-25" max="2023-12-31" value="today"
                        placeholder="today" required>
                    <span class="modal-form-input-desc">Check-out date</span>
                </label>
                
                <!-- TODO Потрібно зробити стрілочку-->
                <!-- TODO Потрібно зробити селект -->
                <label class="modal-form-field">
                    <select id="number-category" class="modal-form-select" >
                        <option value="hide">Number category</option>
                        <option value="double-luxury-room">double luxury room</option>
                        <option value="triple-room">triple room</option>
                        <option value="four-seater-room">four-seater room</option>
                    </select>
                </label>

            </div>

            <button class="btn btn-dark-bg" type="submit">MAKE A RESERVATION</button>
        </form>
    </div>

    <!-- Фон під модальним вікном -->
    <div class="overlay js-overlay-modal"></div>
</section>


<!-- <script type="text/javascript">
   

    function setCursorPosition(pos, e) {
        e.focus();
        if (e.setSelectionRange) e.setSelectionRange(pos, pos);
        else if (e.createTextRange) {
            var range = e.createTextRange();
            range.collapse(true);
            range.moveEnd("character", pos);
            range.moveStart("character", pos);
            range.select()
        }
    }

    function mask(e) {
        //console.log('mask',e);
        var matrix = this.placeholder,// .defaultValue
            i = 0,
            def = matrix.replace(/\D/g, ""),
            val = this.value.replace(/\D/g, "");
        def.length >= val.length && (val = def);
        matrix = matrix.replace(/[_\d]/g, function (a) {
            return val.charAt(i++) || "_"
        });
        this.value = matrix;
        i = matrix.lastIndexOf(val.substr(-1));
        i < matrix.length && matrix != this.placeholder ? i++ : i = matrix.indexOf("_");
        setCursorPosition(i, this)
    }
    window.addEventListener("DOMContentLoaded", function () {
        var input = document.querySelector("#online_phone");
        input.addEventListener("input", mask, false);
        input.focus();
        setCursorPosition(3, input);
    });

    // var input = document.getElementById('user_name');
    // input.oninvalid = function (event) {
    //     event.target.setCustomValidity("Ім'я користувача має містити лише літери, більше двох літер");
    // }

</script> -->